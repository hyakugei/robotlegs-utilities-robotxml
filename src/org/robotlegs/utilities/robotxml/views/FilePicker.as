package org.robotlegs.utilities.robotxml.views {		import flash.display.Sprite;	import fl.controls.Button;	import fl.controls.Label;	import flash.filesystem.File;	import flash.events.*;		public class FilePicker extends Sprite 	{		public static const NEW_FILE:String = "new_file";						private var file:File;		private var setFile:Button;		private var output:Label;				//--------------------------------------------------------------------------		//		//  Initialization		//		//--------------------------------------------------------------------------		/**		 * Event handling takes place via the mediator: FilePickerMediator 		 * 		 */				public function FilePicker() 		{						setupUI();		}				public function getFilePath():String		{			return file.nativePath;		}				protected function setupUI():void		{						file = new File();						setFile = new Button();			setFile.label = "Pick save file";			setFile.addEventListener(MouseEvent.CLICK, setFileClickEvent, false, 0, true);			addChild(setFile);			setFile.x = 10;			setFile.y = 10;						output = new Label();			output.text = "No save file set";			output.width = 100;			output.x = setFile.x + setFile.width + 10;			output.y = setFile.y;			addChild(output);		}				protected function setFileClickEvent(e:MouseEvent):void		{			// pop the file dialog			try			{				file.browseForSave("File to save.");				file.addEventListener(Event.SELECT, fileSelected, false, 0, true);			}			catch(error:Error)			{				trace("Error: \n" + error.message);			}		}				protected function fileSelected(e:Event):void		{			file = e.target as File;			output.text = "File: \"" + file.name + "\"";			dispatchEvent(new Event(NEW_FILE));		}	}}